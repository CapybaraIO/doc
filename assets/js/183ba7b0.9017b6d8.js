"use strict";(self.webpackChunk_hirosystems_docs=self.webpackChunk_hirosystems_docs||[]).push([[9566],{3905:(e,t,a)=>{a.d(t,{Zo:()=>l,kt:()=>u});var o=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=o.createContext({}),c=function(e){var t=o.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},l=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},k=o.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,l=h(e,["components","mdxType","originalType","parentName"]),p=c(a),k=n,u=p["".concat(s,".").concat(k)]||p[k]||d[k]||i;return a?o.createElement(u,r(r({ref:t},l),{},{components:a})):o.createElement(u,r({ref:t},l))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,r=new Array(i);r[0]=k;var h={};for(var s in t)hasOwnProperty.call(t,s)&&(h[s]=t[s]);h.originalType=e,h[p]="string"==typeof e?e:n,r[1]=h;for(var c=2;c<i;c++)r[c]=a[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,a)}k.displayName="MDXCreateElement"},3632:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>h,toc:()=>c});var o=a(87462),n=(a(67294),a(3905));const i={title:"Create Chainhooks"},r="Create Chainhooks",h={unversionedId:"platform/guides/create-chainhooks",id:"platform/guides/create-chainhooks",title:"Create Chainhooks",description:"With Chainhook, you can automatically trigger an action in response to on-chain events on Stacks, Bitcoin, and other Bitcoin layers, enabling you to use IFTTT (ifthis, thenthat) logic to power your applications. To learn more about Chainhook, refer to Chainhook overview documentation.",source:"@site/docs/platform/guides/create-chainhooks.md",sourceDirName:"platform/guides",slug:"/platform/guides/create-chainhooks",permalink:"/doc/platform/guides/create-chainhooks",draft:!1,editUrl:"https://github.com/CapybaraIO/doc/tree/main/docs/platform/guides/create-chainhooks.md",tags:[],version:"current",frontMatter:{title:"Create Chainhooks"},sidebar:"platform",previous:{title:"Connect Desktop to Cloud Using SSH",permalink:"/doc/platform/guides/connect-desktop-to-cloud"},next:{title:"Stacks Testnet Faucet",permalink:"/doc/platform/guides/faucet"}},s={},c=[{value:"Edit Chainhook",id:"edit-chainhook",level:2},{value:"Duplicate Chainhook",id:"duplicate-chainhook",level:2},{value:"Delete Chainhook",id:"delete-chainhook",level:2},{value:"Chainhook Status",id:"chainhook-status",level:2},{value:"References",id:"references",level:2}],l={toc:c},p="wrapper";function d(e){let{components:t,...i}=e;return(0,n.kt)(p,(0,o.Z)({},l,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"create-chainhooks"},"Create Chainhooks"),(0,n.kt)("p",null,"With Chainhook, you can automatically trigger an action in response to on-chain events on Stacks, Bitcoin, and other Bitcoin layers, enabling you to use IFTTT (if_this, then_that) logic to power your applications. To learn more about Chainhook, refer to ",(0,n.kt)("a",{parentName:"p",href:"/doc/chainhook/"},"Chainhook overview documentation"),"."),(0,n.kt)("p",null,"This guide helps you create a Chainhook using the ",(0,n.kt)("a",{parentName:"p",href:"https://platform.hiro.so/"},"Hiro Platform"),"."),(0,n.kt)("p",null,"Login to the ",(0,n.kt)("a",{parentName:"p",href:"/doc/platform/getting-started"},"Hiro Platform")," and create or import a project by following ",(0,n.kt)("a",{parentName:"p",href:"/doc/platform/guides/create-project"},"this")," guide. Next, you can follow the steps below to create a Chainhook."),(0,n.kt)("p",null,"Once you are on the ",(0,n.kt)("a",{parentName:"p",href:"https://platform.hiro.so"},"Projects page"),", select the project to create a Chainhook."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Create Projects",src:a(21124).Z,width:"1659",height:"205"})),(0,n.kt)("p",null,"You'll see a navigation bar with two tabs, Contracts, and Chainhooks. Select the ",(0,n.kt)("em",{parentName:"p"},"Chainhooks")," tab."),(0,n.kt)("p",null,"There are two ways to create a Chainhook. You can either create a Chainhook from scratch using our form, or you can upload a Chainhook(s) that you have already defined in JSON."),(0,n.kt)("h1",{id:"creating-a-chainhook"},"Creating a Chainhook"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Create Chainhook Window",src:a(33773).Z,width:"1395",height:"783"})),(0,n.kt)("p",null,"Select the ",(0,n.kt)("em",{parentName:"p"},"Create Chainhook")," button."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Create Chainhook Window",src:a(1401).Z,width:"299",height:"402"})),(0,n.kt)("p",null,"A new pane opens up on the right to create a Chainhook. Use the following fields to create a Chainhook:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Name"),": Define a Chainhook name of your choice."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Chain"),": Select between Bitcoin and Stacks to create a Chainhook."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Network"),": Choose a network between ",(0,n.kt)("inlineCode",{parentName:"p"},"mainnet")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"testnet")," to observe for events."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"If-this"),": Based on the selected chain, you will see a list of available scopes for the ",(0,n.kt)("inlineCode",{parentName:"p"},"If-this")," condition."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"For ",(0,n.kt)("em",{parentName:"p"},"Bitcoin"),", the available predicate options are ",(0,n.kt)("inlineCode",{parentName:"p"},"txid"),",",(0,n.kt)("inlineCode",{parentName:"p"},"outputs"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"stacks_protocols"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"For ",(0,n.kt)("em",{parentName:"p"},"Stacks"),", the available predicate options are ",(0,n.kt)("inlineCode",{parentName:"p"},"txid"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"block_height"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"fungible_token_event"),",\n",(0,n.kt)("inlineCode",{parentName:"p"},"non-fungible_token_event"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"stx_event"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"print_event"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"contract_deployment"),"."))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("em",{parentName:"p"},(0,n.kt)("strong",{parentName:"em"},"Note"))),(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("em",{parentName:"p"},"Refer to the ",(0,n.kt)("a",{parentName:"em",href:"/doc/chainhook/guides/chainhooks-with-bitcoin"},"Bitcoin predicates")," and ",(0,n.kt)("a",{parentName:"em",href:"/doc/chainhook/guides/chainhooks-with-stacks"},"Stacks predicates")," documents to understand the available predicates and how to use them."))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Then-that"),": This action is defaulted to ",(0,n.kt)("inlineCode",{parentName:"p"},"http_post")," to allow the chainhook to post events to the URL specified in the below option."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"URL"),": Specify a URL to post Chainhook events to the HTTP_post method."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Authorization Header"),": This field is optional to add a Secret to the ",(0,n.kt)("inlineCode",{parentName:"p"},"authorization")," header when posting payloads."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Start Block"),": This field must specify the start block to search the chain."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"End Block"),": It is optional to specify the end block. However, to optimize your scan time, it is recommended to specify this field."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Expire After Occurrence"),": You can specify a number greater than or equal to 1 to expire the Chainhook after a specific number of occurrences. You can leave this blank if you don't want to set any limit."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Decode Clarity Values"),": This is enabled by default for stacks predicates to help you decode clarity values in your contract."),(0,n.kt)("p",null,"You'll see the following options for Bitcoin chain,"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Include Proof"),": Enable this option when you have evidence that the transaction or block has been verified and authorized by the sender using their private key. This proof is generally a cryptographic signature to a transaction or block on the Bitcoin blockchain."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Include Inputs"),": Enable this option to include Bitcoin transaction inputs in the payload. In a Bitcoin transaction, inputs are references to previous transactions' outputs (also known as unspent transaction outputs or UTXOs) that are being spent in the current transaction. These inputs provide evidence that the sender has the right to spend the funds."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Include Outputs"),": Enable this option to include Bitcoin transaction outputs in the payload. Including outputs in a Bitcoin transaction refers to specifying the destinations and amounts of Bitcoin being sent as part of a transaction. Outputs in a Bitcoin transaction represent the recipients' addresses and the corresponding amounts of Bitcoin they are receiving."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Include Witness"),": Enable this option to include Bitcoin transaction witness in the payload. The witness data for a transaction includes the cryptographic signatures and other related information placed alongside the transaction data in the block."),(0,n.kt)("p",null,"Once you define the all the required fields, you can select ",(0,n.kt)("strong",{parentName:"p"},"Create Chainhook"),"."),(0,n.kt)("p",null,"The right pane navigates to the Projects page with the Chainhooks tab open, and you can view the Chainhook created."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Chainhook created",src:a(86025).Z,width:"1637",height:"361"})),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"NAME"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"CHAIN"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"START BLOCK"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"NETWORK"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"STATUS"),", and ",(0,n.kt)("inlineCode",{parentName:"p"},"LAST UPDATED")," headers are updated based on the selected fields used to create a Chainhook."),(0,n.kt)("p",null,"Based on the chosen network, the respective status columns in the Chainhook list page will be updated to ",(0,n.kt)("strong",{parentName:"p"},"Deployed"),"."),(0,n.kt)("p",null,"Note that there may be other fields in the UI to create a Chainhook based on the predicates defined."),(0,n.kt)("h1",{id:"uploading-a-chainhook"},"Uploading a Chainhook"),(0,n.kt)("p",null,"To upload a chainhook, you can either select the ",(0,n.kt)("em",{parentName:"p"},"Upload Chainhook")," button and choose the .json file that has the Chainhook(s) you want to upload, or you can drag and drop the .json file into the file upload area."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Upload Chainhook",src:a(93107).Z,width:"961",height:"585"})),(0,n.kt)("p",null,"The upload file must be a .json file containing either a single json object representing a Chainhook predicate, or an array of json objects representing one or more Chainhook predicates."),(0,n.kt)("p",null,"Refer to the ",(0,n.kt)("a",{parentName:"p",href:"/doc/chainhook/guides/chainhooks-with-bitcoin"},"Bitcoin predicates")," and ",(0,n.kt)("a",{parentName:"p",href:"/doc/chainhook/guides/chainhooks-with-stacks"},"Stacks predicates")," documents to understand the available predicates and how your Chainhook predicate json for upload."),(0,n.kt)("h2",{id:"edit-chainhook"},"Edit Chainhook"),(0,n.kt)("p",null,"Once the Chainhook is created, you can edit the Chainhook by using the ellipse on the created Chainhook row."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Edit chainhook",src:a(40525).Z,width:"1572",height:"267"})),(0,n.kt)("p",null,"You can update the fields and select ",(0,n.kt)("strong",{parentName:"p"},"Update chainhook"),"."),(0,n.kt)("h2",{id:"duplicate-chainhook"},"Duplicate Chainhook"),(0,n.kt)("p",null,"Use the ellipse on the Chainhook row to duplicate the Chainhook created earlier."),(0,n.kt)("p",null,"This opens a right pane with all the fields populated to use to create a duplicate Chainhook."),(0,n.kt)("p",null,"You can update the fields or directly select ",(0,n.kt)("strong",{parentName:"p"},"Create Chainhook")," to duplicate a copy of the Chainhook."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Duplicate Chainhook",src:a(1342).Z,width:"1606",height:"237"})),(0,n.kt)("h2",{id:"delete-chainhook"},"Delete Chainhook"),(0,n.kt)("p",null,"Use the ellipse on the Chainhook row to delete the Chainhook. You will see a confirmation window to confirm if you want to delete the Chainhook."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Delete Chainhook",src:a(99317).Z,width:"1576",height:"390"})),(0,n.kt)("h2",{id:"chainhook-status"},"Chainhook Status"),(0,n.kt)("p",null,"The Chainhook row has a ",(0,n.kt)("inlineCode",{parentName:"p"},"STATUS")," column that displays whether the Chainhook is in an Active, Inactive, or Error state. Active means the Chainhook is actively scanning blocks against the Chainhooks defined predicate, inactive means the Chainhook has reached a terminal state, e.g. its end block has been reached, and it is no longer scanning blocks, and error means the Chainhook ran into an error during its execution."),(0,n.kt)("p",null,"More status info can be found by hovering over the status element. For example, to understand why the Chainhook is in an error state, hover over the status element to find out!"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Chainhook status",src:a(80877).Z,width:"1504",height:"245"})),(0,n.kt)("h2",{id:"references"},"References"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/doc/chainhook/guides/chainhooks-with-bitcoin"},"Use Chainhooks with Bitcoin")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/doc/chainhook/guides/chainhooks-with-stacks"},"Use Chainhooks with Stacks")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/doc/chainhook/guides/chainhook-as-a-service-bitcoind"},"Run Chainhook as a service using Bitcoind")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/doc/chainhook/guides/chainhook-as-a-service-stacks"},"Run Chainhook as a service using Stacks"))))}d.isMDXComponent=!0},1401:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/chainhook-create-chainhook-window-1b418e799007dcc8e2de70d0644f43de.jpeg"},21124:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/chainhook-create-project-fac63997f88df451345f6a9492b31fd3.jpeg"},86025:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/chainhook-created-b0cbdb574b090729965844c2a7f2a6a0.jpeg"},99317:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/chainhook-delete-confirmation-window-30212d98c7fd21f5298919da9567ef40.jpeg"},1342:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/chainhook-duplicate-837f90fca2622ae36bf60b9f0fe72aa4.jpeg"},40525:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/chainhook-edit-chainhook-9ebe65db5edcbbcc5b85987c4a42f331.jpeg"},33773:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/chainhook-select-chainhook-tab-47ca94e8634e767f39ad9bf184f92a92.jpeg"},80877:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/chainhook-status-info-f90a10eb6585c271f12e2691e5f09e1c.jpeg"},93107:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/chainhook-upload-3659d4efe96f91a32228c8df97c9782e.jpeg"}}]);