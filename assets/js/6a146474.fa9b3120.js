"use strict";(self.webpackChunk_CapybaraIO_docs=self.webpackChunk_CapybaraIO_docs||[]).push([[8449],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>h});var n=o(67294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(o),m=r,h=u["".concat(p,".").concat(m)]||u[m]||d[m]||a;return o?n.createElement(h,i(i({ref:t},c),{},{components:o})):n.createElement(h,i({ref:t},c))}));function h(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<a;s++)i[s]=o[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}m.displayName="MDXCreateElement"},63642:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var n=o(87462),r=(o(67294),o(3905));const a={title:"Connect Desktop to Cloud Using SSH"},i="Setting Up Your Local Editor",l={unversionedId:"platform/guides/connect-desktop-to-cloud",id:"platform/guides/connect-desktop-to-cloud",title:"Connect Desktop to Cloud Using SSH",description:"The Capybara Platform now supports local development, allowing you to use your preferred local editor (VSCode, Emacs, Vim, etc.) to develop smart contracts. This guide will walk you through the steps to set up your local editor for the Capybara Platform.",source:"@site/docs/platform/guides/connect-desktop-to-cloud.md",sourceDirName:"platform/guides",slug:"/platform/guides/connect-desktop-to-cloud",permalink:"/doc/platform/guides/connect-desktop-to-cloud",draft:!1,editUrl:"https://github.com/CapybaraIO/doc/tree/main/docs/platform/guides/connect-desktop-to-cloud.md",tags:[],version:"current",lastUpdatedAt:1703206175,formattedLastUpdatedAt:"Dec 22, 2023",frontMatter:{title:"Connect Desktop to Cloud Using SSH"},sidebar:"platform",previous:{title:"Using Devnet on the Capybara Platform",permalink:"/doc/platform/guides/devnet"},next:{title:"Create Chainhooks",permalink:"/doc/platform/guides/create-chainhooks"}},p={},s=[{value:"Find or Generate Your SSH Key",id:"find-or-generate-your-ssh-key",level:2},{value:"Save Your SSH Key",id:"save-your-ssh-key",level:2},{value:"Enable SSH and Git",id:"enable-ssh-and-git",level:2},{value:"Get Your Workspace URL",id:"get-your-workspace-url",level:2},{value:"Connection Complete!",id:"connection-complete",level:2},{value:"Configuring Visual Studio Code",id:"configuring-visual-studio-code",level:2},{value:"Connecting via Command Line Interface (CLI)",id:"connecting-via-command-line-interface-cli",level:2},{value:"Configuring Emacs",id:"configuring-emacs",level:2}],c={toc:s},u="wrapper";function d(e){let{components:t,...o}=e;return(0,r.kt)(u,(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"setting-up-your-local-editor"},"Setting Up Your Local Editor"),(0,r.kt)("p",null,"The Capybara Platform now supports local development, allowing you to use your preferred local editor (VSCode, Emacs, Vim, etc.) to develop smart contracts. This guide will walk you through the steps to set up your local editor for the Capybara Platform."),(0,r.kt)("h2",{id:"find-or-generate-your-ssh-key"},"Find or Generate Your SSH Key"),(0,r.kt)("p",null,"First, you need to check if you already have an existing SSH key on your device. This is often located in ",(0,r.kt)("inlineCode",{parentName:"p"},"~/.ssh/id_ed25519.pub"),". You can view your SSH keys by running the following command in your terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ls -al ~/.ssh\n")),(0,r.kt)("p",null,"Look for the file ending in ",(0,r.kt)("inlineCode",{parentName:"p"},".pub"),", which contains your public key."),(0,r.kt)("p",null,"If you don't have an SSH key, you can generate one by running the following command in your terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ssh-keygen -t ed25519\n")),(0,r.kt)("p",null,"You'll then be prompted to enter a passphrase. You can choose to leave that blank. You should now have a ",(0,r.kt)("inlineCode",{parentName:"p"},"id_ed25519.pub")," file which contains your new public SSH key."),(0,r.kt)("h2",{id:"save-your-ssh-key"},"Save Your SSH Key"),(0,r.kt)("p",null,"Next, you'll provide your public key to the Capybara Platform. You can do this by copying your public key and pasting it into the SSH Public Key field in the Capybara Platform in Profile -> Settings. ",(0,r.kt)("a",{parentName:"p",href:"https://platform.hiro.so/settings"},"https://platform.hiro.so/settings")),(0,r.kt)("p",null,"For Mac, use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"cat ~/.ssh/id_ed25519.pub | pbcopy\n")),(0,r.kt)("p",null,"For Windows, use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"type %userprofile%\\.ssh\\id_ed25519.pub | clip\n\n")),(0,r.kt)("p",null,"For Linux, use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"cat ~/.ssh/id_ed25519.pub | xclip -selection clipboard\n\n")),(0,r.kt)("p",null,"You'll also need to provide a nickname for your connected device, such as 'MacBook Pro'. This will help you identify the device in the future."),(0,r.kt)("h2",{id:"enable-ssh-and-git"},"Enable SSH and Git"),(0,r.kt)("p",null,"To enable SSH access and Git authentication to your Capybara Platform workspace, you'll need to modify your ",(0,r.kt)("inlineCode",{parentName:"p"},"~/.ssh/config")," file. However, before proceeding, it's important to understand what these commands do to ensure you're comfortable with the changes being made to your machine"),(0,r.kt)("p",null,"Here are the lines you need to add:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Host *.ssh.platform.hiro.so\n    User hiro \n    StrictHostKeyChecking no \n    ProxyCommand openssl s_client -quiet -servername %h -connect %h:22\n    ForwardAgent yes\n")),(0,r.kt)("p",null,"See below what each line does:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Host *.ssh.platform.hiro.so"),": This line specifies that the following settings apply to any host in the ",(0,r.kt)("inlineCode",{parentName:"p"},"ssh.platform.hiro.so")," domain.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"User hiro"),": This line sets the default username to ",(0,r.kt)("inlineCode",{parentName:"p"},"hiro")," for this host.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"StrictHostKeyChecking no"),": This line disables the prompt that asks if you trust the host you're connecting to.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"ProxyCommand openssl s_client -quiet -servername %h -connect %h:22"),": This line tells SSH to use OpenSSL as a proxy to connect to the host.\n",(0,r.kt)("inlineCode",{parentName:"p"},"-servername %h"),": This option sets the Server Name Indication (SNI). The ",(0,r.kt)("inlineCode",{parentName:"p"},"%h")," is a placeholder that SSH replaces with the host name.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"ForwardAgent yes"),": This line enables the forwarding of the authentication agent connection, which is useful if you're using Git. ",(0,r.kt)("inlineCode",{parentName:"p"},"ForwardAgent")," is an option in SSH that allows your local SSH agent to authenticate on a remote server without storing your private keys on the remote server. When ",(0,r.kt)("inlineCode",{parentName:"p"},"ForwardAgent")," is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"yes"),", the SSH client will forward the authentication information to the remote machine that you SSH into. "))),(0,r.kt)("p",null,"If you don't plan to use Git, you can remove the line ",(0,r.kt)("inlineCode",{parentName:"p"},"ForwardAgent yes"),"."),(0,r.kt)("h2",{id:"get-your-workspace-url"},"Get Your Workspace URL"),(0,r.kt)("p",null,"To create an SSH connection to your Capybara Platform workspace, you will need your workspace url. To find it, go to ",(0,r.kt)("a",{parentName:"p",href:"https://platform.hiro.so/projects"},"https://platform.hiro.so/projects")," and click ",(0,r.kt)("inlineCode",{parentName:"p"},"Connect Your Local Editor"),". You will find your workspace url at the bottom."),(0,r.kt)("h2",{id:"connection-complete"},"Connection Complete!"),(0,r.kt)("p",null,"Now you can access your Capybara Platform projects directly from your local setup. Use an SSH client or editor with SSH support to open your projects. "),(0,r.kt)("h2",{id:"configuring-visual-studio-code"},"Configuring Visual Studio Code"),(0,r.kt)("p",null,'You can use the "Remote-SSH" extension to connect to, and work on, your remote server directly from your local VS Code environment. If you don\'t have it installed already, you can install it from the VS Code Marketplace: ',(0,r.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh"},"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh"),"\nOnce the extension is installed, you can connect to your remote server by following the steps below."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open VS Code on your local machine.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},'Type "Remote-SSH: Connect to Host..." and select it from the dropdown list.')),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},'Click on "Add New SSH Host...".')),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Enter your SSH connection command, for example ",(0,r.kt)("inlineCode",{parentName:"p"},"ssh <your-workspace-url>"),", replacing ",(0,r.kt)("inlineCode",{parentName:"p"},"<your-workspace-url>")," with your workspace url.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Select the SSH configuration file to update. This is usually ",(0,r.kt)("inlineCode",{parentName:"p"},"~/.ssh/config"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},'Once the configuration file is updated, you can click on "Connect to Host" again, and you should see your new SSH host. Click on it to connect.')),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"A new VS Code window will open, connected to your remote server. You can now open folders and files on the server and work on them as if they were local."))),(0,r.kt)("p",null,"Remember to replace ",(0,r.kt)("inlineCode",{parentName:"p"},"<your-workspace-url>")," with your actual workspace url."),(0,r.kt)("p",null,"That's it! You've now set up your local editor for Capybara Platform. Happy coding!"),(0,r.kt)("h2",{id:"connecting-via-command-line-interface-cli"},"Connecting via Command Line Interface (CLI)"),(0,r.kt)("p",null,"If you prefer using the command line for your development work, you can also connect to your Capybara Platform workspace via SSH using the terminal. Here's how:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open your terminal.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Enter the following command:"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ssh hiro@<your-workspace-url>\n")),(0,r.kt)("p",null,"Replace ",(0,r.kt)("inlineCode",{parentName:"p"},"hiro@<your-workspace-url>")," with your actual workspace URL."),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"If this is your first time connecting to the server from your device, you may see a message asking you to confirm the server's fingerprint. Type ",(0,r.kt)("inlineCode",{parentName:"p"},"yes")," and press ",(0,r.kt)("inlineCode",{parentName:"p"},"Enter"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Once connected, you should be in your remote workspace. You can now navigate through your files and directories using standard Unix commands."))),(0,r.kt)("p",null,"Remember, to ensure a smooth connection, your public SSH key must be registered with the Capybara Platform, as described in Step 2."),(0,r.kt)("h2",{id:"configuring-emacs"},"Configuring Emacs"),(0,r.kt)("p",null,"Emacs has built-in support for SSH through the Tramp mode. To open a file over SSH, use the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"C-x C-f /ssh:hiro@<your-workspace-url>:/path/to/project\n")),(0,r.kt)("p",null,"Replace ",(0,r.kt)("inlineCode",{parentName:"p"},"hiro@<your-workspace-url>")," with your workspace url, and ",(0,r.kt)("inlineCode",{parentName:"p"},"/path/to/project")," with the path to the project you want to open."))}d.isMDXComponent=!0}}]);